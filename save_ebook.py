# cd d:
# cd d:\tom\scripts
# py save_ebook.py

import re
import requests

twig_base = "https://twigserial.wordpress.com"
twig_chapters = [
"?cat=335145234",
"?cat=289739",
"?cat=20203420",
"?cat=21037039",
"?cat=11693151",
"?cat=20559853",
"?cat=21573041",
"?cat=11693436",
"?cat=11693254",
"?cat=11692444",
"?cat=382650",
"?cat=6762658",
"?cat=3147327",
"?cat=346260264",
"?cat=346881996",
"?cat=21734881",
"?cat=21734883",
"?cat=22725876",
"?cat=21598908",
"?cat=11693909",
"?cat=24118768",
"?cat=705702",
"?cat=16374430",
"?cat=26354851",
"?cat=432065",
"?cat=11702157",
"?cat=355952418",
"?cat=356777123",
"?cat=23117586",
"?cat=24703902",
"?cat=31669281",
"?cat=32105009",
"?cat=23142230",
"?cat=20495613",
"?cat=705703",
"?cat=24065921",
"?cat=27570576",
"?cat=5375272",
"?cat=368828023",
"?cat=367697853",
"?cat=18682384",
"?cat=22564161",
"?cat=28740457",
"?cat=28845220",
"?cat=22967058",
"?cat=5259044",
"?cat=705704",
"?cat=5586245",
"?cat=36049233",
"?cat=11698023",
"?cat=11702453",
"?cat=2212278",
"?cat=378624314",
"?cat=379432259",
"?cat=22967056",
"?cat=35340418",
"?cat=22258917",
"?cat=35340711",
"?cat=20365731",
"?cat=25571088",
"?cat=25539482",
"?cat=22259329",
"?cat=36504408",
"?cat=1028044",
"?cat=13116160",
"?cat=2017170",
"?cat=4827613",
"?cat=3821579",
"?cat=4199599",
"?cat=11111676",
"?cat=396976880",
"?cat=33843508",
"?cat=396976891",
"?cat=31024954",
"?cat=20809971",
"?cat=31696527",
"?cat=20638593",
"?cat=32562113",
"?cat=56667615",
"?cat=33096141",
"?cat=459589",
"?cat=9616762",
"?cat=2260082",
"?cat=21166180",
"?cat=20915128",
"?cat=409940914",
"?cat=24435037",
"?cat=23755003",
"?cat=62977507",
"?cat=20883862",
"?cat=20750912",
"?cat=57529820",
"?cat=32721917",
"?cat=24704087",
"?cat=24703857",
"?cat=2963299",
"?cat=119573",
"?cat=28295",
"?cat=35228132",
"?cat=8476580",
"?cat=22963870",
"?cat=29532947",
"?cat=424945375",
"?cat=426347385",
"?cat=427246284",
"?cat=23751857",
"?cat=31196878",
"?cat=65154967",
"?cat=20379126",
"?cat=51948487",
"?cat=48524491",
"?cat=52109837",
"?cat=57562994",
"?cat=37312757",
"?cat=10839957",
"?cat=23193233",
"?cat=418238",
"?cat=1433447",
"?cat=2339042",
"?cat=23958523",
"?cat=5718542",
"?cat=444911900",
"?cat=445959568",
"?cat=25174575",
"?cat=25873742",
"?cat=50411459",
"?cat=12315371",
"?cat=26987317",
"?cat=12184671",
"?cat=23794951",
"?cat=23114217",
"?cat=10900128",
"?cat=2527038",
"?cat=75936",
"?cat=448385",
"?cat=6216663",
"?cat=20006030",
"?cat=37905416",
"?cat=5279156",
"?cat=2911745",
"?cat=5590786",
"?cat=474220012",
"?cat=475400706",
"?cat=1974475",
"?cat=20771642",
"?cat=18349994",
"?cat=21459063",
"?cat=35275604",
"?cat=38024259",
"?cat=22641275",
"?cat=4803169",
"?cat=341872",
"?cat=2217477",
"?cat=5831147",
"?cat=1577748",
"?cat=4072053",
"?cat=4652059",
"?cat=429736",
"?cat=1953720",
"?cat=9533994",
"?cat=1353326",
"?cat=12315923",
"?cat=193204",
"?cat=496090522",
"?cat=496749863",
"?cat=7828717",
"?cat=27150064",
"?cat=513142998",
"?cat=19015104",
"?cat=513143043",
"?cat=37103309",
"?cat=24705240",
"?cat=13142868",
"?cat=343958",
"?cat=9498254",
"?cat=4885587",
"?cat=1686652",
"?cat=7950345",
"?cat=429767",
"?cat=513223984",
"?cat=513961233",
"?cat=57283364",
"?cat=27914461",
"?cat=27911466",
"?cat=19015105",
"?cat=27915012",
"?cat=21547325",
"?cat=14198216",
"?cat=17048206",
"?cat=352389",
"?cat=14310589",
"?cat=27915092",
"?cat=1484068",
"?cat=528629447",
"?cat=528629481",
"?cat=30413176",
"?cat=17324853",
"?cat=34310047",
"?cat=20255579",
"?cat=20509536",
"?cat=65401831",
"?cat=87453727",
"?cat=352390",
"?cat=15562629",
"?cat=26276138",
"?cat=537069580",
"?cat=4127839",
"?cat=16456249",
"?cat=28452887",
"?cat=68079801",
"?cat=20404006",
"?cat=21618610",
"?cat=39030272",
"?cat=39055634",
"?cat=352393",
"?cat=1772735",
"?cat=24703684",
"?cat=20366075",
"?cat=79643895",
"?cat=57615275",
"?cat=13589792",
"?cat=9592402",
"?cat=13221557",
"?cat=889163",
"?cat=546748288",
"?cat=547068567",
"?cat=49501505",
"?cat=29251154",
"?cat=32988759",
"?cat=34407778",
"?cat=1113859",
"?cat=21607872",
"?cat=22132575",
"?cat=91301608",
"?cat=352394",
"?cat=25272916",
"?cat=20271836",
"?cat=1186767",
"?cat=92349678",
"?cat=36262059",
"?cat=12034634",
"?cat=17492165",
"?cat=552738437",
"?cat=552991979",
"?cat=20312944",
"?cat=51437173",
"?cat=24704595",
"?cat=34456843",
"?cat=47598812",
"?cat=21705411",
"?cat=8947000",
"?cat=23376482",
"?cat=356775",
"?cat=11684061",
"?cat=56428601",
"?cat=4368641",
"?cat=25443543",
"?cat=558724028",
"?cat=559158678",
"?cat=48484928",
"?cat=79349541",
"?cat=33086568",
"?cat=34529363",
"?cat=20517586",
"?cat=7934117",
"?cat=38220075",
"?cat=16464821",
"?cat=357745",
"?cat=26560465",
"?cat=25702030",
"?cat=7044592",
"?cat=67018135",
"?cat=4563000",
"?cat=19741795",
"?cat=48768312",
"?cat=38431396",
"?cat=3261375",
"?cat=568360047",
"?cat=569024734",
"?cat=29157499",
"?cat=31196879",
"?cat=5512020",
"?cat=34725375",
"?cat=36054263",
"?cat=33355335",
"?cat=87590838",
"?cat=40828510",
"?cat=357720",
"?cat=21134265",
"?cat=573195272",
"?cat=574561691",
"?cat=575701727",
"?cat=576085250",
"?cat=577050481",
"?cat=577570230",
"?cat=577913772",
"?cat=578417732",
"?cat=578840672",
"?cat=75668967",
"?cat=51691835",
"?cat=33249381",
"?cat=27200775",
"?cat=20602630",
"?cat=21388087",
"?cat=22963148",
"?cat=27200899",
"?cat=24835832",
"?cat=2185147",
"?cat=13623805",
"?cat=25823297",
"?cat=50476587",
"?cat=43740857",
"?cat=87506775",
"?cat=584526785",
"?cat=584847360",
"?cat=24704219",
"?cat=31292666",
"?cat=33295362",
"?cat=34725379",
"?cat=36350025",
"?cat=41945934",
"?cat=85836209",
"?cat=51592293",
"?cat=27143348",
"?cat=2250628",
"?cat=13370345",
"?cat=28156413",
"?cat=27165894",
"?cat=29778104",
"?cat=23669776",
"?cat=40867025",
"?cat=19448797",
"?cat=88651429",
"?cat=15083065",
"?cat=1540262",
"?cat=586242134",
"?cat=592435863",
"?cat=69991537",
"?cat=142421083",
"?cat=200228566",
"?cat=109800200",
]

pale_chapters = """https://palewebserial.wordpress.com/2020/05/05/blood-run-cold-0-0/
https://palewebserial.wordpress.com/2020/05/09/lost-for-words-1-1/
https://palewebserial.wordpress.com/2020/05/12/lost-for-words-1-2/
https://palewebserial.wordpress.com/2020/05/16/lost-for-words-1-3/
https://palewebserial.wordpress.com/2020/05/19/lost-for-words-1-4/
https://palewebserial.wordpress.com/2020/05/23/lost-for-words-1-5/
https://palewebserial.wordpress.com/2020/05/26/lost-for-words-1-6/
https://palewebserial.wordpress.com/2020/05/30/lost-for-words-1-7/
https://palewebserial.wordpress.com/2020/06/02/lost-for-words-1-8/
https://palewebserial.wordpress.com/2020/06/06/lost-for-words-1-z/
https://palewebserial.wordpress.com/2020/06/09/stolen-away-2-1/
https://palewebserial.wordpress.com/2020/06/13/stolen-away-2-2/
https://palewebserial.wordpress.com/2020/06/16/stolen-away-2-3/
https://palewebserial.wordpress.com/2020/06/20/stolen-away-2-4/
https://palewebserial.wordpress.com/2020/06/23/stolen-away-2-5/
https://palewebserial.wordpress.com/2020/06/27/stolen-away-2-6/
https://palewebserial.wordpress.com/2020/06/30/stolen-away-2-7/
https://palewebserial.wordpress.com/2020/07/04/stolen-away-2-8/
https://palewebserial.wordpress.com/2020/07/07/stolen-away-2-9/
https://palewebserial.wordpress.com/2020/07/11/stolen-away-2-z/
https://palewebserial.wordpress.com/2020/07/14/out-on-a-limb-3-1/
https://palewebserial.wordpress.com/2020/07/18/out-on-a-limb-3-2/
https://palewebserial.wordpress.com/2020/07/21/out-on-a-limb-3-3/
https://palewebserial.wordpress.com/2020/07/25/out-on-a-limb-3-4/
https://palewebserial.wordpress.com/2020/07/28/out-on-a-limb-3-5/
https://palewebserial.wordpress.com/2020/08/01/out-on-a-limb-3-6/
https://palewebserial.wordpress.com/2020/08/04/out-on-a-limb-3-7/
https://palewebserial.wordpress.com/2020/08/08/out-on-a-limb-3-8/
https://palewebserial.wordpress.com/2020/08/11/out-on-a-limb-3-9/
https://palewebserial.wordpress.com/2020/08/15/out-on-a-limb-3-z/
https://palewebserial.wordpress.com/2020/08/18/leaving-a-mark-4-1/
https://palewebserial.wordpress.com/2020/08/22/leaving-a-mark-4-2/
https://palewebserial.wordpress.com/2020/08/25/leaving-a-mark-4-3/
https://palewebserial.wordpress.com/2020/08/29/leaving-a-mark-4-4/
https://palewebserial.wordpress.com/2020/09/01/leaving-a-mark-4-5/
https://palewebserial.wordpress.com/2020/09/05/leaving-a-mark-4-6/
https://palewebserial.wordpress.com/2020/09/08/leaving-a-mark-4-7/
https://palewebserial.wordpress.com/2020/09/12/leaving-a-mark-4-x/
https://palewebserial.wordpress.com/2020/09/15/leaving-a-mark-4-8/
https://palewebserial.wordpress.com/2020/09/19/leaving-a-mark-4-9/
https://palewebserial.wordpress.com/2020/09/22/leaving-a-mark-4-10/
https://palewebserial.wordpress.com/2020/09/26/back-away-5-a/
https://palewebserial.wordpress.com/2020/09/29/back-away-5-b/
https://palewebserial.wordpress.com/2020/10/03/back-away-5-1/
https://palewebserial.wordpress.com/2020/10/06/back-away-5-2/
https://palewebserial.wordpress.com/2020/10/10/back-away-5-3/
https://palewebserial.wordpress.com/2020/10/13/back-away-5-4/
https://palewebserial.wordpress.com/2020/10/17/back-away-5-c/
https://palewebserial.wordpress.com/2020/10/20/back-away-5-5/
https://palewebserial.wordpress.com/2020/10/24/back-away-5-d/
https://palewebserial.wordpress.com/2020/10/27/cutting-class-6-1/
https://palewebserial.wordpress.com/2020/10/31/cutting-class-6-2/
https://palewebserial.wordpress.com/2020/11/03/cutting-class-6-3/
https://palewebserial.wordpress.com/2020/11/07/cutting-class-6-4/
https://palewebserial.wordpress.com/2020/11/10/cutting-class-6-5/
https://palewebserial.wordpress.com/2020/11/14/cutting-class-6-6/
https://palewebserial.wordpress.com/2020/11/17/cutting-class-6-7/
https://palewebserial.wordpress.com/2020/11/21/cutting-class-6-8/
https://palewebserial.wordpress.com/2020/11/24/cutting-class-6-9/
https://palewebserial.wordpress.com/2020/11/28/cutting-class-6-z/
https://palewebserial.wordpress.com/2020/12/01/gone-ahead-7-1/
https://palewebserial.wordpress.com/2020/12/05/gone-ahead-7-2/
https://palewebserial.wordpress.com/2020/12/08/gone-ahead-7-3/
https://palewebserial.wordpress.com/2020/12/12/gone-ahead-7-4/
https://palewebserial.wordpress.com/2020/12/15/gone-ahead-7-5/
https://palewebserial.wordpress.com/2020/12/19/gone-ahead-7-6/
https://palewebserial.wordpress.com/2020/12/22/gone-ahead-7-a/
https://palewebserial.wordpress.com/2020/12/26/gone-ahead-7-7/
https://palewebserial.wordpress.com/2020/12/29/gone-ahead-7-8/
https://palewebserial.wordpress.com/2021/01/02/gone-ahead-7-9/
https://palewebserial.wordpress.com/2021/01/05/gone-ahead-7-x/
https://palewebserial.wordpress.com/2021/01/09/vanishing-points-8-1/
https://palewebserial.wordpress.com/2021/01/12/vanishing-points-8-2/
https://palewebserial.wordpress.com/2021/01/16/vanishing-points-8-3/
https://palewebserial.wordpress.com/2021/01/19/vanishing-points-8-4/
https://palewebserial.wordpress.com/2021/01/23/vanishing-points-8-5/
https://palewebserial.wordpress.com/2021/01/26/vanishing-points-8-a/
https://palewebserial.wordpress.com/2021/01/30/vanishing-points-8-6/
https://palewebserial.wordpress.com/2021/02/02/vanishing-points-8-7/
https://palewebserial.wordpress.com/2021/02/06/vanishing-points-8-8/
https://palewebserial.wordpress.com/2021/02/09/shaking-hands-9-1/
https://palewebserial.wordpress.com/2021/02/13/shaking-hands-9-2/
https://palewebserial.wordpress.com/2021/02/16/shaking-hands-9-3/
https://palewebserial.wordpress.com/2021/02/20/shaking-hands-9-4/
https://palewebserial.wordpress.com/2021/02/23/shaking-hands-9-5/
https://palewebserial.wordpress.com/2021/02/27/shaking-hands-9-6/
https://palewebserial.wordpress.com/2021/03/02/shaking-hands-9-7/
https://palewebserial.wordpress.com/2021/03/06/shaking-hands-9-8/
https://palewebserial.wordpress.com/2021/03/09/shaking-hands-9-9/
https://palewebserial.wordpress.com/2021/03/13/shaking-hands-9-10/
https://palewebserial.wordpress.com/2021/03/16/shaking-hands-9-11/
https://palewebserial.wordpress.com/2021/03/20/shaking-hands-9-12/
https://palewebserial.wordpress.com/2021/03/23/shaking-hands-9-z/
https://palewebserial.wordpress.com/2021/03/27/one-after-another-10-1/
https://palewebserial.wordpress.com/2021/03/30/one-after-another-10-a/
https://palewebserial.wordpress.com/2021/04/03/one-after-another-10-b/
https://palewebserial.wordpress.com/2021/04/06/one-after-another-10-c/
https://palewebserial.wordpress.com/2021/04/10/one-after-another-10-2/
https://palewebserial.wordpress.com/2021/04/13/one-after-another-10-d/
https://palewebserial.wordpress.com/2021/04/17/one-after-another-10-e/
https://palewebserial.wordpress.com/2021/04/20/one-after-another-10-3/
https://palewebserial.wordpress.com/2021/04/24/one-after-another-10-4/
https://palewebserial.wordpress.com/2021/04/27/one-after-another-10-z/
https://palewebserial.wordpress.com/2021/05/01/dash-to-pieces-11-1/
https://palewebserial.wordpress.com/2021/05/04/dash-to-pieces-11-2/
https://palewebserial.wordpress.com/2021/05/08/dash-to-pieces-11-3/
https://palewebserial.wordpress.com/2021/05/11/dash-to-pieces-11-4/
https://palewebserial.wordpress.com/2021/05/15/dash-to-pieces-11-5/
https://palewebserial.wordpress.com/2021/05/18/dash-to-pieces-11-6/
https://palewebserial.wordpress.com/2021/05/22/dash-to-pieces-11-7/
https://palewebserial.wordpress.com/2021/05/25/dash-to-pieces-11-8/
https://palewebserial.wordpress.com/2021/05/29/dash-to-pieces-11-9/
https://palewebserial.wordpress.com/2021/06/01/dash-to-pieces-11-10/
https://palewebserial.wordpress.com/2021/06/05/dash-to-pieces-11-11/
https://palewebserial.wordpress.com/2021/06/08/dash-to-pieces-11-12/
https://palewebserial.wordpress.com/2021/06/12/dash-to-pieces-11-13/
https://palewebserial.wordpress.com/2021/06/15/dash-to-pieces-11-z/
https://palewebserial.wordpress.com/2021/06/19/false-moves-12-1/
https://palewebserial.wordpress.com/2021/06/22/false-move-12a/
https://palewebserial.wordpress.com/2021/06/26/false-moves-12-2/
https://palewebserial.wordpress.com/2021/06/29/false-moves-12-3/
https://palewebserial.wordpress.com/2021/07/03/false-moves-12-4/
https://palewebserial.wordpress.com/2021/07/06/false-moves-12-5/
https://palewebserial.wordpress.com/2021/07/10/false-moves-12-6/
https://palewebserial.wordpress.com/2021/07/14/false-moves-12-7/
https://palewebserial.wordpress.com/2021/07/17/false-moves-12-a/
https://palewebserial.wordpress.com/2021/07/20/false-moves-12-8/
https://palewebserial.wordpress.com/2021/07/24/false-moves-12-9/
https://palewebserial.wordpress.com/2021/07/27/false-moves-12-10/
https://palewebserial.wordpress.com/2021/07/31/false-moves-12-z/
https://palewebserial.wordpress.com/2021/08/03/summer-break-13-1/
https://palewebserial.wordpress.com/2021/08/07/summer-break-13-2/
https://palewebserial.wordpress.com/2021/08/10/summer-break-13-3/
https://palewebserial.wordpress.com/2021/08/14/summer-break-13-4/
https://palewebserial.wordpress.com/2021/08/17/summer-break-13-5/
https://palewebserial.wordpress.com/2021/08/21/summer-break-13-6/
https://palewebserial.wordpress.com/2021/08/24/summer-break-13-7/
https://palewebserial.wordpress.com/2021/08/28/summer-break-13-8/
https://palewebserial.wordpress.com/2021/08/31/summer-break-13-9/
https://palewebserial.wordpress.com/2021/09/02/break-1/
https://palewebserial.wordpress.com/2021/09/04/summer-break-13-10/
https://palewebserial.wordpress.com/2021/09/07/break-2/
https://palewebserial.wordpress.com/2021/09/11/summer-break-13-11/
https://palewebserial.wordpress.com/2021/09/14/break-3/
https://palewebserial.wordpress.com/2021/09/18/summer-break-13-12/
https://palewebserial.wordpress.com/2021/09/21/break-4/
https://palewebserial.wordpress.com/2021/09/26/summer-break-13-13/
https://palewebserial.wordpress.com/2021/09/28/break-5/
https://palewebserial.wordpress.com/2021/10/02/summer-break/
https://palewebserial.wordpress.com/2021/10/05/fall-out-14-1/
https://palewebserial.wordpress.com/2021/10/09/fall-out-14-2/
https://palewebserial.wordpress.com/2021/10/12/fall-out-14-3/
https://palewebserial.wordpress.com/2021/10/17/fall-out-14-4/
https://palewebserial.wordpress.com/2021/10/19/fall-out-14-5/
https://palewebserial.wordpress.com/2021/10/24/fall-out-14-6/
https://palewebserial.wordpress.com/2021/10/26/fall-out-14-z/
https://palewebserial.wordpress.com/2021/10/30/playing-a-part-15-1/
https://palewebserial.wordpress.com/2021/11/02/playing-a-part-15-2/
https://palewebserial.wordpress.com/2021/11/06/playing-a-part-15-3/
https://palewebserial.wordpress.com/2021/11/09/playing-a-part-15-4/
https://palewebserial.wordpress.com/2021/11/13/playing-a-part-15-5/
https://palewebserial.wordpress.com/2021/11/16/playing-a-part-15-6/
https://palewebserial.wordpress.com/2021/11/20/playing-a-part-15-7/
https://palewebserial.wordpress.com/2021/11/23/playing-a-part-15-8/
https://palewebserial.wordpress.com/2021/11/27/playing-a-part-15-9/
https://palewebserial.wordpress.com/2021/11/30/playing-a-part-15-10/
https://palewebserial.wordpress.com/2021/12/04/playing-a-part-15-11/
https://palewebserial.wordpress.com/2021/12/08/playing-a-part-15-z/
https://palewebserial.wordpress.com/2021/12/11/left-in-the-dust-16-1/
https://palewebserial.wordpress.com/2021/12/14/left-in-the-dust-16-2/
https://palewebserial.wordpress.com/2021/12/18/left-in-the-dust-16-3/
https://palewebserial.wordpress.com/2021/12/21/left-in-the-dust-16-4/
https://palewebserial.wordpress.com/2021/12/28/left-in-the-dust-16-5/
https://palewebserial.wordpress.com/2022/01/01/left-in-the-dust-16-6/
https://palewebserial.wordpress.com/2022/01/04/left-in-the-dust-16-7/
https://palewebserial.wordpress.com/2022/01/08/left-in-the-dust-16-8/
https://palewebserial.wordpress.com/2022/01/11/left-in-the-dust-16-9/
https://palewebserial.wordpress.com/2022/01/15/left-in-the-dust-16-10/
https://palewebserial.wordpress.com/2022/01/18/left-in-the-dust-16-y/
https://palewebserial.wordpress.com/2022/01/22/left-in-the-dust-16-z/
https://palewebserial.wordpress.com/2022/01/25/gone-and-done-it-17-1/
https://palewebserial.wordpress.com/2022/01/29/gone-and-done-it-17-2/
https://palewebserial.wordpress.com/2022/02/01/gone-and-done-it-17-3/
https://palewebserial.wordpress.com/2022/02/05/gone-and-done-it-17-4/
https://palewebserial.wordpress.com/2022/02/08/gone-and-done-it-17-5/
https://palewebserial.wordpress.com/2022/02/12/gone-and-done-it-17-6/
https://palewebserial.wordpress.com/2022/02/15/gone-and-done-it-17-7/
https://palewebserial.wordpress.com/2022/02/19/gone-and-done-it-17-a/
https://palewebserial.wordpress.com/2022/02/22/gone-and-done-it-17-b/
https://palewebserial.wordpress.com/2022/02/26/gone-and-done-it-17-8/
https://palewebserial.wordpress.com/2022/03/01/gone-and-done-it-17-9/
https://palewebserial.wordpress.com/2022/03/06/gone-and-done-it-17-10/
https://palewebserial.wordpress.com/2022/03/08/gone-and-done-it-17-11/
https://palewebserial.wordpress.com/2022/03/13/gone-and-done-it-17-12/
https://palewebserial.wordpress.com/2022/03/15/gone-and-done-it-17-13/
https://palewebserial.wordpress.com/2022/03/19/gone-and-done-it-17-14/
https://palewebserial.wordpress.com/2022/03/22/gone-and-done-it-17-15/
https://palewebserial.wordpress.com/2022/03/26/gone-and-done-it-17-x/
https://palewebserial.wordpress.com/2022/03/29/gone-and-done-it-17-y/
https://palewebserial.wordpress.com/2022/04/02/gone-and-done-it-17-z/
https://palewebserial.wordpress.com/2022/04/06/wild-abandon-18-1/
https://palewebserial.wordpress.com/2022/04/09/wild-abandon-18-2/
https://palewebserial.wordpress.com/2022/04/12/wild-abandon-18-a/
https://palewebserial.wordpress.com/2022/04/16/wild-abandon-18-3/
https://palewebserial.wordpress.com/2022/04/19/wild-abandon-18-4/
https://palewebserial.wordpress.com/2022/04/23/wild-abandon-18-5/
https://palewebserial.wordpress.com/2022/04/26/wild-abandon-18-b/
https://palewebserial.wordpress.com/2022/04/30/wild-abandon-18-6/
https://palewebserial.wordpress.com/2022/05/03/wild-abandon-18-7/
https://palewebserial.wordpress.com/2022/05/07/wild-abandon-18-c/
https://palewebserial.wordpress.com/2022/05/10/wild-abandon-18-8/
https://palewebserial.wordpress.com/2022/05/14/wild-abandon-18-9/
https://palewebserial.wordpress.com/2022/05/17/wild-abandon-18-10/
https://palewebserial.wordpress.com/2022/05/21/wild-abandon-18-y/
https://palewebserial.wordpress.com/2022/05/25/wild-abandon-18-z/
https://palewebserial.wordpress.com/2022/05/28/crossed-with-silver-19-1/
https://palewebserial.wordpress.com/2022/05/31/crossed-with-silver-19-2/
https://palewebserial.wordpress.com/2022/06/04/crossed-with-silver-19-3/
https://palewebserial.wordpress.com/2022/06/07/crossed-with-silver-19-4/
https://palewebserial.wordpress.com/2022/06/11/crossed-with-silver-19-5/
https://palewebserial.wordpress.com/2022/06/14/crossed-with-silver-19-6/
https://palewebserial.wordpress.com/2022/06/18/crossed-with-silver-19-7/
https://palewebserial.wordpress.com/2022/06/21/crossed-with-silver-19-8/
https://palewebserial.wordpress.com/2022/06/25/crossed-with-silver-19-9/
https://palewebserial.wordpress.com/2022/06/28/crossed-with-silver-19-10/
https://palewebserial.wordpress.com/2022/07/02/crossed-with-silver-19-11/
https://palewebserial.wordpress.com/2022/07/05/crossed-with-silver-19-12/
https://palewebserial.wordpress.com/2022/07/09/crossed-with-silver-19-13/
https://palewebserial.wordpress.com/2022/07/12/crossed-with-silver-19-14/
https://palewebserial.wordpress.com/2022/07/18/crossed-with-silver-19-15/
https://palewebserial.wordpress.com/2022/07/19/crossed-with-silver-19-16/
https://palewebserial.wordpress.com/2022/07/23/crossed-with-silver-19-17/
https://palewebserial.wordpress.com/2022/07/27/crossed-with-silver-19-z/
https://palewebserial.wordpress.com/2022/08/02/let-slip-20-1/
https://palewebserial.wordpress.com/2022/08/06/let-slip-20-2/
https://palewebserial.wordpress.com/2022/08/09/let-slip-20-3/
https://palewebserial.wordpress.com/2022/08/14/let-slip-20-a/
https://palewebserial.wordpress.com/2022/08/16/let-slip-20-4/
https://palewebserial.wordpress.com/2022/08/20/let-slip-20-5/
https://palewebserial.wordpress.com/2022/08/23/let-slip-20-6/
https://palewebserial.wordpress.com/2022/08/27/let-slip-20-b/
https://palewebserial.wordpress.com/2022/08/30/let-slip-20-c/
https://palewebserial.wordpress.com/2022/09/03/let-slip-20-7/
https://palewebserial.wordpress.com/2022/09/10/let-slip-20-8/
https://palewebserial.wordpress.com/2022/09/13/let-slip-20-d/
https://palewebserial.wordpress.com/2022/09/17/let-slip-20-e/
https://palewebserial.wordpress.com/2022/09/20/let-slip-20-9/
https://palewebserial.wordpress.com/2022/09/25/let-slip-20-f/
https://palewebserial.wordpress.com/2022/09/27/let-slip-20-z/
https://palewebserial.wordpress.com/2022/10/04/in-absentia-21-1/
https://palewebserial.wordpress.com/2022/10/10/in-absentia-21-2/
https://palewebserial.wordpress.com/2022/10/11/in-absentia-21-3/
https://palewebserial.wordpress.com/2022/10/15/in-absentia-21-4/
https://palewebserial.wordpress.com/2022/10/18/in-absentia-21-5/
https://palewebserial.wordpress.com/2022/10/22/in-absentia-21-6/
https://palewebserial.wordpress.com/2022/10/29/in-absentia-21-7/
https://palewebserial.wordpress.com/2022/11/01/in-absentia-21-8/
https://palewebserial.wordpress.com/2022/11/09/in-absentia-21-9/
https://palewebserial.wordpress.com/2022/11/12/in-absentia-21-10/
https://palewebserial.wordpress.com/2022/11/15/in-absentia-21-11/
https://palewebserial.wordpress.com/2022/11/22/in-absentia-21-12/
https://palewebserial.wordpress.com/2022/11/26/in-absentia-21-13/
https://palewebserial.wordpress.com/2022/12/06/hard-pass-22-1/
https://palewebserial.wordpress.com/2022/12/10/hard-pass-22-2/
https://palewebserial.wordpress.com/2022/12/17/hard-pass-22-3/
https://palewebserial.wordpress.com/2022/12/20/30691/
https://palewebserial.wordpress.com/2022/12/27/hard-pass-22-5/
https://palewebserial.wordpress.com/2023/01/03/hard-pass-22-6/
https://palewebserial.wordpress.com/2023/01/10/hard-pass-22-7/
https://palewebserial.wordpress.com/2023/01/14/hard-pass-22-z/
https://palewebserial.wordpress.com/2023/01/21/go-for-the-throat-23-1/
https://palewebserial.wordpress.com/2023/01/24/go-for-the-throat-23-a/
https://palewebserial.wordpress.com/2023/01/31/go-for-the-throat-23-2/
https://palewebserial.wordpress.com/2023/02/07/go-for-the-throat-23-3/
https://palewebserial.wordpress.com/2023/02/11/go-for-the-throat-23-4/
https://palewebserial.wordpress.com/2023/02/14/go-for-the-throat-23-5/
https://palewebserial.wordpress.com/2023/02/22/go-for-the-throat-23-6/
https://palewebserial.wordpress.com/2023/02/28/go-for-the-throat-23-7/
https://palewebserial.wordpress.com/2023/03/04/go-for-the-throat-23-b/
https://palewebserial.wordpress.com/2023/03/11/go-for-the-throat-23-c/
https://palewebserial.wordpress.com/2023/03/14/go-for-the-throat-23-8/
https://palewebserial.wordpress.com/2023/03/21/go-for-the-throat-23-d/
https://palewebserial.wordpress.com/2023/03/28/go-for-the-throat-23-9/
https://palewebserial.wordpress.com/2023/04/04/go-for-the-throat-23-e/
https://palewebserial.wordpress.com/2023/04/11/go-for-the-throat-23-f/
https://palewebserial.wordpress.com/2023/04/18/go-for-the-throat-23-z/
https://palewebserial.wordpress.com/2023/04/22/finish-off-24-1/
https://palewebserial.wordpress.com/2023/04/29/finish-off-24-a/
https://palewebserial.wordpress.com/2023/05/06/finish-off-24-2/
https://palewebserial.wordpress.com/2023/05/13/finish-off-24-3/
https://palewebserial.wordpress.com/2023/05/20/finish-off-24-4/
https://palewebserial.wordpress.com/2023/05/27/finish-off-24-5/
https://palewebserial.wordpress.com/2023/06/03/finish-off-24-6/
https://palewebserial.wordpress.com/2023/06/10/finish-off-24-7/
https://palewebserial.wordpress.com/2023/06/17/finish-off-24-8/
https://palewebserial.wordpress.com/2023/06/24/finish-off-24-9/
https://palewebserial.wordpress.com/2023/07/01/finish-off-24-10/
https://palewebserial.wordpress.com/2023/07/08/finish-off-24-11/
https://palewebserial.wordpress.com/2023/07/15/finish-off-24-12/
https://palewebserial.wordpress.com/2023/07/22/finish-off-24-13/
https://palewebserial.wordpress.com/2023/07/29/finish-off-24-x/
https://palewebserial.wordpress.com/2023/08/04/finish-off-24-14/
https://palewebserial.wordpress.com/2023/08/12/finish-off-24-15/
https://palewebserial.wordpress.com/2023/08/19/finish-off-24-16/
https://palewebserial.wordpress.com/2023/08/26/finish-off-24-17/
https://palewebserial.wordpress.com/2023/09/02/loose-ends-e-1/
https://palewebserial.wordpress.com/2023/09/12/loose-ends-e-2/
https://palewebserial.wordpress.com/2023/09/16/loose-ends-e-3/
https://palewebserial.wordpress.com/2023/09/23/e-4/
https://palewebserial.wordpress.com/2023/09/30/loose-ends-e-5/
https://palewebserial.wordpress.com/2023/10/08/loose-ends-e-6/
"""
# with open("twig_full.html", "w", encoding="utf-8") as out:
#     with open("links.txt", "w", encoding="utf-8") as link_out:
#         for chapter in twig_chapters:
#             url = f"{twig_base}/{chapter}"
#             r = requests.get(url, allow_redirects=True)
#             # r = requests.get(url)
#             # get the real URL that should look something like https://twigserial.wordpress.com/category/story/arc-1-taking-root/1-01/ and check the text before the last slash
#             real_url = r.url
#             if len(real_url.split("/")) < 8:
#                 continue
#             data = real_url.split("/")[-1]
#             if len(data) == 0:
#                 data = real_url.split("/")[-2]
#             print(real_url)
#             link_out.write(real_url + "\n")
#             out.write(r.text)
#             out.write("\n\n" + "="*50 + "\n\n")

def extract_chapter_content(html):
    title_match = re.search(r'<h1 class="entry-title">(.*?)</h1>', html, re.DOTALL)
    title = title_match.group(0) if title_match else ""
    content_match = re.search(
        r'<div class="entry-content">(.*?)</div><!-- \.entry-content -->',
        html,
        re.DOTALL,
    )
    content = content_match.group(1).strip() if content_match else ""
    if content:
        content = re.sub(
            r'<div id="jp-post-flair".*',
            "",
            content,
            flags=re.DOTALL,
        )
        content = re.sub(
            r'<div id="jp-relatedposts".*',
            "",
            content,
            flags=re.DOTALL,
        )
    return f"{title}\n{content.strip()}"


with open("pale_full.html", "w", encoding="utf-8") as out:
    for chapter in pale_chapters.splitlines():
        url = chapter.strip()
        r = requests.get(url)
        real_url = r.url
        print(real_url)
        out.write(extract_chapter_content(r.text))
        out.write("\n\n" + "="*50 + "\n\n")
